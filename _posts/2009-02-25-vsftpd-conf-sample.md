---
author: aaronshang
comments: true
date: 2009-02-25 08:34:00+00:00
layout: post
link: https://aaronshang.wordpress.com/2009/02/25/vsftpd-conf-sample/
slug: vsftpd-conf-sample
title: vsftpd.conf sample
wordpress_id: 967
---

# can NOT have SPACE before or after the "=" !!!!<br></br>#<br></br># The default compiled in settings are very paranoid. This file<br></br># loosens things up a bit, to make the ftp daemon more usable.<br></br># Octal numbers are supported for numeric options, use 0 as the first digit<br></br> # Standalone options --------------------------------------<br></br>listen=YES<br></br>#anonymous--------------------------------------------------------------<br></br>anonymous_enable=YES<br></br>#anon_root=/home/ftp/<br></br>#no_anon_password=YES<br></br> anon_other_write_enable=NO<br></br>#perform deletion and renaming.	<br></br>anon_upload_enable=YES<br></br>anon_mkdir_write_enable=YES<br></br>anon_world_readable_only=YES<br></br>#only allow to download files which are world readable. <br></br>#FTP user may own files, especially in the presence of uploads.<br></br> ####anon_max_rate=10000000<br></br>#<br></br>#Default is 000, so uploaded file cannot be anon readable!!<br></br>anon_umask=022<br></br>#chown_uploads=YES<br></br>#chown_username=ftp<br></br>#ftp_username=ftp<br></br>#max_clients=10<br></br>#listen_port=21<br></br>#max_per_ip=2<br></br> #listen_address<br></br>#tcp_wrappers=YES<br></br># Performance ---------------------------------------------<br></br>#one_process_model=YES<br></br># Activates a faster "one process per connection" model. Note! <br></br># To maintain security, only available on systems with capabilities<br></br> # less pure security, but gains performance for simultaneously connected users.<br></br># ls -R may cause excessive I/O resource consuming<br></br># However, some broken FTP clients such as "ncftp" and "mirror" need it <br></br> #ls_recurse_enable=YES<br></br>#local user-------------------------------------------------------------<br></br>##local_root=/home/ftp<br></br>local_enable=YES<br></br>local_umask=022<br></br># A value of 002 is nice if groups share directories<br></br> #guest_enable=NO<br></br>#guest_username=guest<br></br>#all non-anonymous logins are classed as guest logins, mapped to guest_username<br></br>#operation------------------------------------------------------------------<br></br>write_enable=YES<br></br> #FTP commands which change the filesystem: <br></br># STOR,  DELE,	 RNFR, RNTO, MKD, RMD, APPE  SITE.<br></br>#messages---------------------------------------------------------<br></br>dirmessage_enable=YES<br></br>#message_file=.messages<br></br> #ftpd_banner= <br></br>#banner_file=<br></br>#Logging------------------------------------------------------------<br></br>xferlog_enable=YES<br></br>xferlog_std_format=YES<br></br>xferlog_file=/var/log/xferlog<br></br>#written  in  standard xferlog  format,	as used by wu-ftpd. <br></br> #useful if can reuse existing transfer statistics generators.  <br></br>log_ftp_protocol=YES<br></br># all FTP requests and responses are logged, providing xferlog_std_format=YES <br></br>#transfer mode------------------------------------------------------------<br></br> #When  enabled,  ASCII  mode  data transfers will be honoured on  downloads.<br></br># By default the server will pretend to allow ASCII mode but ignore it.<br></br># I/O resources may be consumed by command "SIZE /big/file" in ASCII mode.<br></br> # without the DoS risk of SIZE and ASCII downloads. ASCII mangling should be<br></br># on the client anyway..<br></br>#ascii_download_enable=NO<br></br># ASCII downloads are CPU heavy<br></br>#ascii_upload_enable=YES<br></br># to prevent uploaded scripts from breaking or for Windows-users  to upload<br></br> #async_abor_enable=YES<br></br># Enables older FTP clients to cancel in-progress transfers.<br></br># FTP clients may hang when cancelling a transfer unless this feature is on.<br></br># this  feature is awkward to handle<br></br># Security ------------------------------------------------<br></br> connect_from_port_20=YES<br></br>#	      This  controls  whether  PORT style data connections use port 20<br></br>#	      (ftp-data) on the server machine.	 For  security	reasons,  some<br></br>#	      clients  may insist that this is the case. Conversely, disabling<br></br> #	      this option enables vsftpd to run with slightly less  privilege.<br></br>#ftp_data_port=20<br></br>#The port from which PORT style connections originate <br></br>#hide_ids=YES<br></br># The port  to allocate for PASV style data connections.<br></br> #idle_session_timeout=300<br></br>#data_connection_timeout=120<br></br>#accept_timeout=60<br></br>#The timeout, for connection with a PASV style data connection.<br></br>#connect_timeout=60<br></br># The  timeout, for a remote client to respond to PORT style data connection.<br></br> ###file_open_mode=0666<br></br># The permissions with which uploaded files are  created.<br></br># umasks are applied on top of this value. <br></br>#userlist_enable=YES<br></br>#userlist_deny=YES<br></br>#userlist_file = /etc/ftpusers<br></br># If set to NO, then users will be denied login	unless in userlist_file.<br></br> # If YES, never allow users in userlist file, and not even prompt for password.<br></br># Note that the default vsftpd pam config also checks /etc/vsftpd.ftpusers<br></br># Useful for combatting certain DoS attacks.<br></br>#deny_email_enable=YES<br></br> #banned_email_file=/etc/vsftpd.banned_emails<br></br>#check_shell=YES<br></br>#only has  an  effect  for  non-PAM  builds  of vsftpd. <br></br>#check /etc/shells for a    valid user shell for local logins.<br></br>#	      The  option  is  the  name  of a file containing a list of local<br></br> #	      users which will be placed in a  chroot()	 jail  in  their  home<br></br>#	      directory.   This	  option   is  only  relevant  if  the	option<br></br>#	      chroot_list_enable is enabled, and the option  chroot_local_user<br></br> #	      is disabled.<br></br># You may specify an explicit list of local users to chroot() to their home<br></br># directory. If chroot_local_user is YES, then this list becomes a list of<br></br># users to NOT chroot().<br></br>#chroot_list_enable=YES<br></br> #chroot_list_file = /etc/vsftpd.chroot_list<br></br>#	      If  activated,  you  may	provide	 a list of local users who are<br></br>#	      placed in a chroot() jail in their home  directory  upon	login.<br></br>#	      The meaning is slightly different if chroot_local_user is set to<br></br> #	      YES. In this case, the list becomes a list of  users  which  are<br></br>#	      NOT  to be placed in a chroot() jail.  By default, the file con-<br></br>#	      taining this list is /etc/vsftpd.chroot_list, but you may	 over-<br></br> #	      ride this with the chroot_list_file setting.<br></br>#chroot_local_user = YES<br></br>#	      If  set to YES, local users will be placed in a chroot() jail in<br></br>#	      their home directory after  login.   Warning:  This  option  has<br></br> #	      security	implications, especially if the users have upload per-<br></br>#	      mission, or shell access. Only enable if you know what  you  are<br></br>#	      doing.   Note  that  these  security implications are not vsftpd<br></br> #	      specific. They apply to all FTP daemons which offer to put local<br></br>#	      users in chroot() jails.<br></br>#<br></br>#       passwd_chroot_enable<br></br>#	      If enabled, along with chroot_local_user , then a chroot()  jail<br></br> #	      location	may be specified on a per-user basis. Each user's jail<br></br>#	      is derived from their home directory string in /etc/passwd.  The<br></br>#	      occurence	 of  /./ in the home directory string denotes that the<br></br> #	      jail is at that particular location in the path.<br></br>pasv_enable=YES<br></br># enable non-passive transfers, Some FTP clients demand this.<br></br>#port_enable=YES<br></br>#       pasv_promiscuous=NO<br></br>#	      Set  to  YES if you want to disable the PASV security check that<br></br> #	      ensures the data connection originates from the same IP  address<br></br>#	      as the control connection.  Only enable if you know what you are<br></br>#	      doing! The only legitimate use for  this	is  in	some  form  of<br></br> #	      secure tunnelling scheme.<br></br>#       port_promiscuous=NO<br></br>#	      Set to YES if you want to disable the PORT security  check  that<br></br>#	      ensures  that  outgoing data connections can only connect to the<br></br>#	      client. Only enable if you know what you are doing!<br></br> # Set to NO if you want to enhance privacy<br></br>#setproctitle_enable=YES<br></br>#	      If enabled, vsftpd will try and show session status  information<br></br>#	      in the system process listing. In other words, the reported name<br></br> #	      of the process will change to reflect what a vsftpd  session  is<br></br>#	      doing  (idle,  downloading etc). You probably want to leave this<br></br>#	      off for security purposes.<br></br>#<br></br>#       tcp_wrappers=NO<br></br> #	      If enabled, and vsftpd was compiled with	tcp_wrappers  support,<br></br>#	      incoming	connections  will  be  fed through tcp_wrappers access<br></br>#	      control. Furthermore, there is a mechanism for per-IP based con-<br></br> #	      figuration.  If  tcp_wrappers sets the VSFTPD_LOAD_CONF environ-<br></br>#	      ment variable, then the vsftpd session will  try	and  load  the<br></br>#	      vsftpd configuration file specified in this variable.<br></br>#<br></br> #<br></br>#       text_userdb_names=YES<br></br>#	      By  default,  numeric IDs are shown in the user and group fields<br></br>#	      of directory listings. You can get  textual  names  by  enabling<br></br>#	      this parameter. It is off by default for performance reasons.<br></br> #<br></br>#<br></br>#use_localtime=NO<br></br>#If  enabled, vsftpd will display directory listings with the the<br></br>#time in your local time zone. The default is to display GMT. The<br></br>#times returned by the MDTM FTP command are also affected by this<br></br> #use_sendfile<br></br>#An internal setting used for testing  the	 relative  benefit  of<br></br>#using the sendfile() system call on your platform.<br></br>#Default: YES<br></br># totally isolated and unprivileged user used for vsftpd<br></br>#nopriv_user=ftpsecure<br></br> # pasv_address<br></br>#Use this option to override the  IP  address  that  vsftpd  will<br></br>#advertise	 in response to the PASV command. Provide a numeric IP address.<br></br>#Default: (none - the address is taken  from  the	incoming  connected socket)<br></br> secure_chroot_dir=/var/run/vsftpd<br></br>pam_service_name=vsftpd<br></br>#This  option  should  be the name of a directory which is empty.<br></br>#Also, the directory should not be writable by the ftp user. This<br></br>#directory is used as a secure chroot() jail at times vsftpd does<br></br> #not require filesystem access.<br></br>#<br></br># user_config_dir<br></br># Allows the override of  any	config	option, on a per-user basis. <br></br># If  you  set user_config_dir  to  be /etc/vsftpd_user_conf and then log on as<br></br># the user "chris", then vsftpd will apply	the  settings  in  the<br></br> # file  /etc/vsftpd_user_conf/chris	 for  the duration of the session. <br></br>rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem<br></br>rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key<br></br>

![]()
